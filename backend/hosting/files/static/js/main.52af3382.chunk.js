(this["webpackJsonpweb-js"]=this["webpackJsonpweb-js"]||[]).push([[0],{144:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),s=n.n(c),i=(n(144),n(6)),o=n.n(i),l=n(15),d=n(226),u=n(227),j=n(216),b=n(128),p=n(10),x=n(11),h=n(64),m=n(208),O=n(214),f=n(228),g=n(215),v=n(213),w=n(120),y=n.n(w),S=n(121),k=n.n(S),C=n(77),P=n(2);function A(e){return new h.a({id:e,baseUrl:C.b})}var B=r.a.createContext(null);function U(e){var t=e.appId,n=e.children,a=r.a.useState(A(t)),c=Object(x.a)(a,2),s=c[0],i=c[1];r.a.useEffect((function(){i(A(t))}),[t]);var d=r.a.useState(s.currentUser),u=Object(x.a)(d,2),j=u[0],b=u[1],h=r.a.useCallback(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.logIn(t);case 2:b(s.currentUser);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),m=r.a.useCallback(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===j||void 0===j?void 0:j.logOut();case 2:return e.next=4,s.removeUser(j);case 4:b(s.currentUser);case 5:case"end":return e.stop()}}),e)}))),[s,j]),O=r.a.useMemo((function(){return Object(p.a)(Object(p.a)({},s),{},{currentUser:j,logIn:h,logOut:m})}),[s,j,h,m]);return Object(P.jsx)(B.Provider,{value:O,children:n})}function N(){var e=r.a.useContext(B);if(!e)throw new Error("No Realm App found. Make sure to call useRealmApp() inside of a <RealmAppProvider />.");return e}var T=n(212);function E(e){var t=e.children;return Object(P.jsx)(m.a,{style:{textAlign:"center",padding:"14px 0",marginTop:"auto"},children:t})}function F(){return Object(P.jsxs)(E,{children:[Object(P.jsx)("span",{children:"Built with MongoDB Realm, \u2764\ufe0f and \u2615\ufe0f by Ayushi"})," |"," ",Object(P.jsx)(T.a,{target:"_blank",href:"https://docs.mongodb.com/realm",children:"Docs"})]})}n(13);var I=function(e){return!e};var _=n(231);function D(e){return Object(P.jsx)(_.a,Object(p.a)({elevation:6,variant:"filled"},e))}function H(e){var t=e.isOpen,n=e.message,a=e.onClose,r=void 0===a?function(){}:a;return t?Object(P.jsx)(D,{onClose:r,severity:"error",children:n}):null}function L(){var e,t,n=N(),a=r.a.useState(!1),c=Object(x.a)(a,2),s=c[0],i=c[1],d={email:null,password:null,other:null},u=r.a.useState(d),w=Object(x.a)(u,2),S=w[0],C=w[1],A=function(){return C(d)},B=function(e){var t=e.error,n=e.clearError,a=e.hideAfterMs,c=r.a.useState(!1),s=Object(x.a)(c,2),i=s[0],o=s[1],l=r.a.useCallback((function(){n(),o(!1)}),[n]);return r.a.useEffect((function(){if(t){if(o(!0),a){var e=setTimeout((function(){l()}),a);return function(){clearTimeout(e)}}}else o(!1)}),[t,l,a]),function(){return Object(P.jsx)(H,{isOpen:i,message:t,onClose:function(){l()}})}}({error:S.other,clearError:function(){C((function(e){return Object(p.a)(Object(p.a)({},e),{},{other:null})}))}}),U=r.a.useState(!1),T=Object(x.a)(U,2),E=T[0],_=T[1],D=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.email,r=t.password,A(),e.prev=2,!s){e.next=6;break}return e.next=6,n.emailPasswordAuth.registerUser(a,r);case 6:return e.next=8,n.logIn(h.b.emailPassword(a,r));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),z(e.t0,C);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(m.a,{maxWidth:"sm",className:"main-container",children:[Object(P.jsx)(O.a,{className:"auth-card",variant:"outlined",children:Object(P.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=Object.fromEntries(t.entries()),a=n.email,r=n.password;D({email:a,password:r})},children:[Object(P.jsx)(b.a,{component:"h2",variant:"h4",gutterBottom:!0,children:s?"Sign Up":"Log In"}),Object(P.jsx)(B,{}),Object(P.jsx)(f.a,{id:"input-email",name:"email",label:"Email Address",variant:"outlined",error:Boolean(S.email),helperText:null!==(e=S.email)&&void 0!==e?e:""}),Object(P.jsx)(f.a,{id:"input-password",type:E?"text":"password",name:"password",label:"Password",variant:"outlined",error:Boolean(S.password),helperText:null!==(t=S.password)&&void 0!==t?t:"",InputProps:{endAdornment:Object(P.jsx)(g.a,{position:"end",children:Object(P.jsx)(v.a,{"aria-label":"toggle password visibility",onClick:function(){return _(I)},onMouseDown:function(e){e.preventDefault()},children:E?Object(P.jsx)(y.a,{}):Object(P.jsx)(k.a,{})})})}}),Object(P.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",children:s?"Create Account":"Log In"}),Object(P.jsx)("button",{type:"button",className:"link-button",onClick:function(){return A(),void i(I)},children:s?"Already have an account? Log In":"Sign up for an account"})]})}),Object(P.jsx)(F,{})]})}function z(e,t){var n=function(){t((function(e){return Object(p.a)(Object(p.a)({},e),{},{other:"Something went wrong. Try again in a little bit."})})),console.warn("Something went wrong with a Realm login or signup request. See the following error for details."),console.error(e)};if(e instanceof h.c){var a=e.error,r=e.statusCode;switch(a||r){case"invalid username":t((function(e){return Object(p.a)(Object(p.a)({},e),{},{email:"Invalid email address."})}));break;case"invalid username/password":case"invalid password":case 401:t((function(e){return Object(p.a)(Object(p.a)({},e),{},{password:"Incorrect password."})}));break;case"name already in use":case 409:t((function(e){return Object(p.a)(Object(p.a)({},e),{},{email:"Email is already registered."})}));break;case"password must be between 6 and 128 characters":case 400:t((function(e){return Object(p.a)(Object(p.a)({},e),{},{password:"Password must be between 6 and 128 characters."})}));break;default:n()}}else n()}var R=n(124),M=n(218),K=n(88),q=n(89),J=n(217),Y=n(87),W=n(86),$={blue:Object(p.a)(Object(p.a)({},K.a),{},{500:"#6497B1",A400:"#6497B1"}),green:Object(p.a)(Object(p.a)({},q.a),{},{500:"#09804C",A400:"#B9EACD"}),purple:Object(p.a)(Object(p.a)({},J.a),{},{500:"#6200EE",A400:"#9795F9"}),orange:Y.a,red:W.a},G={palette:{primary:$.blue,secondary:$.blue}},Q=Object(R.a)(G);function V(e){var t=e.children;return Object(P.jsx)(M.a,{theme:Q,children:t})}function X(){return Object(P.jsx)(b.a,{className:"app-bar-title",component:"h1",variant:"h5",children:"Travel Stay Buddy"})}n(58);var Z=n(233),ee=n(237),te=n(236),ne=n.p+"static/media/home1.34865c11.png",ae=n.p+"static/media/home2.a9687aa8.png",re=n.p+"static/media/buy.39333dd7.png",ce=n(230),se=n(238),ie=n(229),oe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function le(e){var t=a.useState(!1),n=Object(x.a)(t,2),r=n[0],c=n[1];return Object(P.jsxs)("div",{children:[Object(P.jsx)(ce.a,{onClick:function(){return c(!0)},children:e.iconText}),Object(P.jsx)(ie.a,{open:r,onClose:function(){return c(!1)},children:Object(P.jsxs)(te.a,{sx:oe,children:[Object(P.jsx)(se.a,{variant:"h6",component:"h2",children:e.iconText}),Object(P.jsx)(se.a,{sx:{mt:2},children:"Pricing"===e.iconText?Object(P.jsxs)("div",{children:["Price per day: ",e.iconPrice," $ ",Object(P.jsx)("br",{}),"Cancellation policy: ",e.cancellation]}):"Features"===e.iconText?Object(P.jsxs)("div",{children:[Object(P.jsx)("b",{children:"Bedroom Facility?"}),Object(P.jsx)("br",{}),e.beds," bed/s with ",e.bedrooms," bedroom/s and accommodates ",e.accommodates," person/s.",Object(P.jsx)("br",{}),Object(P.jsx)("b",{children:"What do you have access to?"}),Object(P.jsx)("br",{}),e.access,Object(P.jsx)("br",{}),Object(P.jsx)("div",{className:"container",children:e.amenities.map((function(e){return Object(P.jsx)("ul",{children:Object(P.jsx)("li",{children:e},e)})}))})]}):Object(P.jsxs)("div",{children:["How to reach?",Object(P.jsx)("br",{}),Object(P.jsx)("b",{children:e.address.street}),Object(P.jsx)("br",{}),e.transit]})})]})})]})}var de={paperContainer:{fontFamily:"Source Serif Pro",maxHeight:200,overflow:"auto",backgroundImage:"url(".concat("https://elements-twenty20-photos-0.imgix.net/production/uploads/items/6f3c7ee4-19e6-4f87-a08e-2eb20bf9f38e/source?auto=compress%2Cformat&fit=max&mark=https%3A%2F%2Felements-assets.envato.com%2Fstatic%2Fwatermark2.png&markalign=center%2Cmiddle&markalpha=18&w=1000&s=11a4c4e5d119030d235580895a2b517c",")")},boxContainer:{fontFamily:"Source Serif Pro",backgroundRepeat:"no-repeat",backgroundSize:"cover",opacity:1,backgroundImage:"url(".concat("https://media.istockphoto.com/photos/abstract-blur-soft-focus-blue-color-interior-of-modern-cleaning-picture-id1156772856?k=20&m=1156772856&s=612x612&w=0&h=YatSXcdYafrpPYGV2lvJ7z72Eq0AeiPPxypqz3QomaY=",")")},modalStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4}};function ue(e){return Object(P.jsx)(te.a,{sx:{display:"flex",flexWrap:"wrap","& > :not(style)":{m:1,width:158,height:145}},children:Object(P.jsxs)(ee.a,{elevation:3,children:[Object(P.jsx)("img",{alt:"",src:e.iconPic,width:"150"}),Object(P.jsx)(le,{iconText:e.iconLabel,iconPrice:e.price,cancellation:e.cancellation,transit:e.transit,address:e.address,access:e.access,accommodates:e.accommodates,beds:e.beds,bedrooms:e.bedrooms,amenities:e.amenities})]})})}var je=function(e){var t=e.name,n=e.summary,a=e.images,r=e.link,c=e.host,s=e.reviews,i=e.price,o=e.cancellation_policy,l=e.interaction,d=e.transit,u=e.address,j=e.access,b=e.accommodates,p=e.beds,x=e.bedrooms,h=e.amenities;return Object(P.jsx)("div",{style:{padding:"5px 30px 40px 5px"},align:"center",children:Object(P.jsx)(ee.a,{style:de.boxContainer,elevation:3,children:Object(P.jsxs)(Z.a,{container:!0,spacing:0,children:[Object(P.jsxs)(Z.a,{item:!0,xs:12,children:[Object(P.jsx)("h1",{children:t}),Object(P.jsx)("h3",{children:u.street}),Object(P.jsxs)("p",{children:[n,Object(P.jsx)("br",{}),Object(P.jsx)("a",{href:r,children:"Book Now!"}),Object(P.jsx)("br",{})]})]}),Object(P.jsx)(Z.a,{item:!0,xs:9,children:Object(P.jsx)("img",{alt:"Oops! No preview",src:a})}),Object(P.jsxs)(Z.a,{item:!0,xs:3,children:[Object(P.jsx)(te.a,{children:Object(P.jsx)(ue,{iconPic:re,price:i,cancellation:o,iconLabel:"Pricing"})}),Object(P.jsx)(te.a,{children:Object(P.jsx)(ue,{iconPic:ne,access:j,accommodates:b,beds:p,bedrooms:x,amenities:h,iconLabel:"Features"})}),Object(P.jsx)(te.a,{children:Object(P.jsx)(ue,{iconPic:ae,transit:d,address:u,iconLabel:"Directions"})})]}),Object(P.jsxs)(Z.a,{item:!0,xs:12,children:[Object(P.jsx)("h2",{children:"Host:"}),Object(P.jsx)(m.a,{style:{padding:"10px 50px 10px 50px"},children:Object(P.jsxs)(ee.a,{variant:"outlined",style:{padding:"10px 50px 10px 50px"},children:[Object(P.jsx)("img",{alt:"\ud83d\udc64",src:c.host_thumbnail_url,style:{borderRadius:"50%"}}),Object(P.jsx)("br",{}),Object(P.jsx)("b",{children:c.host_name}),Object(P.jsx)("br",{}),Object(P.jsxs)("b",{children:["\ud83d\udccd ",c.host_location]}),Object(P.jsx)("br",{}),c.host_about,Object(P.jsx)("br",{}),l]})}),Object(P.jsx)("h2",{children:"Reviews:"}),Object(P.jsx)(m.a,{style:{padding:"10px 50px 10px 50px"},children:Object(P.jsx)(ee.a,{variant:"outlined",style:de.paperContainer,align:"left",children:s.splice(0,10).map((function(e){return Object(P.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(P.jsx)(Z.a,{item:!0,xs:6,md:1,align:"center",children:Object(P.jsxs)("div",{children:[Object(P.jsx)("img",{alt:"",src:"https://www.freeiconspng.com/thumbs/profile-icon-png/account-profile-user-icon--icon-search-engine-10.png",width:"30",height:"30"}),Object(P.jsx)("br",{}),e.reviewer_name]})}),Object(P.jsx)(Z.a,{item:!0,xs:6,md:11,children:Object(P.jsx)("div",{children:e.comments})}),Object(P.jsx)(Z.a,{item:!0,xs:12,children:Object(P.jsx)("hr",{})})]},e._id)}))})})]})]})})})};function be(e){var t=Object(a.useState)([]),n=Object(x.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("My Props: ",t.item),console.log(t.country),n={Spain:{lng:2.16942,lat:41.40082},UnitedStates:{lng:-74.006,lat:40.7128},Brazil:{lng:-43.23074991429229,lat:-22.966253551739655},Canada:{lng:-73.54949,lat:45.54548},HongKong:{lng:114.17158,lat:22.30469},Australia:{lng:151.21554,lat:-33.88029},Portugal:{lng:-8.61308,lat:41.1413}},"Spain"===t.country?(r=n.Spain.lng,a=n.Spain.lat):"United States"===t.country?(r=n.UnitedStates.lng,a=n.UnitedStates.lat):"Brazil"===t.country?(r=n.Brazil.lng,a=n.Brazil.lat):"Canada"===t.country?(r=n.Canada.lng,a=n.Canada.lat):"Hong Kong"===t.country?(r=n.HongKong.lng,a=n.HongKong.lat):"Australia"===t.country?(r=n.Australia.lng,a=n.Australia.lat):"Portugal"===t.country?(r=n.Portugal.lng,a=n.Portugal.lat):(r=n.UnitedStates.lng,a=n.UnitedStates.lat),e.next=6,fetch("https://winterhack-searchapp.herokuapp.com/search",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:t.item,position:{lng:r,lat:a}})});case 6:return s=e.sent,e.next=9,s.json();case 9:i=e.sent,console.log(i),500===i.statusCode?c([]):c(i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e)}),[e.item,e.country]),Object(P.jsxs)("div",{children:[Object(P.jsxs)("h1",{className:"hhh",children:["Searching for ... ",e.item," in ",e.country]}),r.map((function(e,t){return Object(P.jsx)(je,{name:e.name,summary:e.summary,images:e.images.picture_url,link:e.listing_url,host:e.host,reviews:e.reviews,price:e.price.$numberDecimal,address:e.address,cancellation_policy:e.cancellation_policy,interaction:e.interaction,transit:e.transit,access:e.access,accommodates:e.accommodates,beds:e.beds,bedrooms:e.bedrooms,amenities:e.amenities},t)}))]})}var pe={inputStyle:{width:"50%",height:"40px",borderRadius:"25px",padding:"1px 12px"}};function xe(){var e=Object(a.useState)("a"),t=Object(x.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("United States"),s=Object(x.a)(c,2),i=s[0],o=s[1];return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"App-header",children:[Object(P.jsx)("p",{children:"Hi!"}),Object(P.jsx)("p",{className:"mmm",children:Object(P.jsx)("b",{children:'Discover your next best "STAY"cation right here, right now!'})}),Object(P.jsx)("input",{type:"text",style:pe.inputStyle,value:n,placeholder:"Enter preference",onChange:function(e){r(e.target.value)}}),Object(P.jsx)("p",{children:"Country:"}),Object(P.jsxs)("select",{className:"selectCountry",onChange:function(e){return t=e.target.value,void o(t);var t},value:i,children:[Object(P.jsx)("option",{value:"Australia",children:"Australia"}),Object(P.jsx)("option",{value:"Brazil",children:"Brazil"}),Object(P.jsx)("option",{value:"Canada",children:"Canada"}),Object(P.jsx)("option",{value:"Hong Kong",children:"Hong Kong"}),Object(P.jsx)("option",{value:"Portugal",children:"Portugal"}),Object(P.jsx)("option",{value:"Spain",children:"Spain"}),Object(P.jsx)("option",{value:"United States",children:"United States"})]})]}),Object(P.jsx)("div",{style:{padding:"25px 30px 75px 100px"},children:Object(P.jsx)(be,{item:n,country:i})})]})}function he(){return Object(P.jsx)(V,{children:Object(P.jsx)(U,{appId:C.a,children:Object(P.jsx)(me,{})})})}function me(){var e=N(),t=e.currentUser,n=e.logOut;return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(d.a,{position:"sticky",children:Object(P.jsxs)(u.a,{children:[Object(P.jsx)(X,{}),t?Object(P.jsx)(j.a,{variant:"contained",color:"secondary",onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),children:Object(P.jsx)(b.a,{variant:"button",children:"Log Out"})}):null]})}),t?Object(P.jsx)(xe,{}):Object(P.jsx)(L,{})]})}var Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(he,{})}),document.getElementById("root")),Oe()},58:function(e,t,n){},77:function(e){e.exports=JSON.parse('{"a":"winterhack-vqtdn","b":"https://realm.mongodb.com"}')}},[[158,1,2]]]);
//# sourceMappingURL=main.52af3382.chunk.js.map