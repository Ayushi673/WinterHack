(this["webpackJsonpweb-js"]=this["webpackJsonpweb-js"]||[]).push([[0],{124:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),s=n.n(c),i=(n(124),n(6)),o=n.n(i),l=n(11),u=n(198),j=n(199),d=n(190),b=n(110),p=n(9),h=n(18),x=n(50),O=n(182),m=n(188),f=n(200),v=n(189),g=n(187),w=n(103),y=n.n(w),k=n(104),C=n.n(k),S=n(63),A=n(2);function P(e){return new x.a({id:e,baseUrl:S.b})}var E=r.a.createContext(null);function I(e){var t=e.appId,n=e.children,a=r.a.useState(P(t)),c=Object(h.a)(a,2),s=c[0],i=c[1];r.a.useEffect((function(){i(P(t))}),[t]);var u=r.a.useState(s.currentUser),j=Object(h.a)(u,2),d=j[0],b=j[1],x=r.a.useCallback(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.logIn(t);case 2:b(s.currentUser);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),O=r.a.useCallback(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===d||void 0===d?void 0:d.logOut();case 2:return e.next=4,s.removeUser(d);case 4:b(s.currentUser);case 5:case"end":return e.stop()}}),e)}))),[s,d]),m=r.a.useMemo((function(){return Object(p.a)(Object(p.a)({},s),{},{currentUser:d,logIn:x,logOut:O})}),[s,d,x,O]);return Object(A.jsx)(E.Provider,{value:m,children:n})}function F(){var e=r.a.useContext(E);if(!e)throw new Error("No Realm App found. Make sure to call useRealmApp() inside of a <RealmAppProvider />.");return e}var B=n(186);function N(e){var t=e.children;return Object(A.jsx)(O.a,{style:{textAlign:"center",padding:"14px 0",marginTop:"auto"},children:t})}function L(){return Object(A.jsxs)(N,{children:[Object(A.jsx)("span",{children:"Built with MongoDB Realm, \u2764\ufe0f and \u2615\ufe0f by Ayushi"})," |"," ",Object(A.jsx)(B.a,{target:"_blank",href:"https://docs.mongodb.com/realm",children:"Docs"})]})}n(13);var T=function(e){return!e};var _=n(201);function U(e){return Object(A.jsx)(_.a,Object(p.a)({elevation:6,variant:"filled"},e))}function D(e){var t=e.isOpen,n=e.message,a=e.onClose,r=void 0===a?function(){}:a;return t?Object(A.jsx)(U,{onClose:r,severity:"error",children:n}):null}function M(){var e,t,n=F(),a=r.a.useState(!1),c=Object(h.a)(a,2),s=c[0],i=c[1],u={email:null,password:null,other:null},j=r.a.useState(u),w=Object(h.a)(j,2),k=w[0],S=w[1],P=function(){return S(u)},E=function(e){var t=e.error,n=e.clearError,a=e.hideAfterMs,c=r.a.useState(!1),s=Object(h.a)(c,2),i=s[0],o=s[1],l=r.a.useCallback((function(){n(),o(!1)}),[n]);return r.a.useEffect((function(){if(t){if(o(!0),a){var e=setTimeout((function(){l()}),a);return function(){clearTimeout(e)}}}else o(!1)}),[t,l,a]),function(){return Object(A.jsx)(D,{isOpen:i,message:t,onClose:function(){l()}})}}({error:k.other,clearError:function(){S((function(e){return Object(p.a)(Object(p.a)({},e),{},{other:null})}))}}),I=r.a.useState(!1),B=Object(h.a)(I,2),N=B[0],_=B[1],U=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.email,r=t.password,P(),e.prev=2,!s){e.next=6;break}return e.next=6,n.emailPasswordAuth.registerUser(a,r);case 6:return e.next=8,n.logIn(x.b.emailPassword(a,r));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),R(e.t0,S);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(O.a,{maxWidth:"sm",className:"main-container",children:[Object(A.jsx)(m.a,{className:"auth-card",variant:"outlined",children:Object(A.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=Object.fromEntries(t.entries()),a=n.email,r=n.password;U({email:a,password:r})},children:[Object(A.jsx)(b.a,{component:"h2",variant:"h4",gutterBottom:!0,children:s?"Sign Up":"Log In"}),Object(A.jsx)(E,{}),Object(A.jsx)(f.a,{id:"input-email",name:"email",label:"Email Address",variant:"outlined",error:Boolean(k.email),helperText:null!==(e=k.email)&&void 0!==e?e:""}),Object(A.jsx)(f.a,{id:"input-password",type:N?"text":"password",name:"password",label:"Password",variant:"outlined",error:Boolean(k.password),helperText:null!==(t=k.password)&&void 0!==t?t:"",InputProps:{endAdornment:Object(A.jsx)(v.a,{position:"end",children:Object(A.jsx)(g.a,{"aria-label":"toggle password visibility",onClick:function(){return _(T)},onMouseDown:function(e){e.preventDefault()},children:N?Object(A.jsx)(y.a,{}):Object(A.jsx)(C.a,{})})})}}),Object(A.jsx)(d.a,{type:"submit",variant:"contained",color:"primary",children:s?"Create Account":"Log In"}),Object(A.jsx)("button",{type:"button",className:"link-button",onClick:function(){return P(),void i(T)},children:s?"Already have an account? Log In":"Sign up for an account"})]})}),Object(A.jsx)(L,{})]})}function R(e,t){var n=function(){t((function(e){return Object(p.a)(Object(p.a)({},e),{},{other:"Something went wrong. Try again in a little bit."})})),console.warn("Something went wrong with a Realm login or signup request. See the following error for details."),console.error(e)};if(e instanceof x.c){var a=e.error,r=e.statusCode;switch(a||r){case"invalid username":t((function(e){return Object(p.a)(Object(p.a)({},e),{},{email:"Invalid email address."})}));break;case"invalid username/password":case"invalid password":case 401:t((function(e){return Object(p.a)(Object(p.a)({},e),{},{password:"Incorrect password."})}));break;case"name already in use":case 409:t((function(e){return Object(p.a)(Object(p.a)({},e),{},{email:"Email is already registered."})}));break;case"password must be between 6 and 128 characters":case 400:t((function(e){return Object(p.a)(Object(p.a)({},e),{},{password:"Password must be between 6 and 128 characters."})}));break;default:n()}}else n()}var J=n(106),q=n(192),H=n(78),W=n(79),z=n(191),G=n(77),K=n(76),Q={blue:Object(p.a)(Object(p.a)({},H.a),{},{500:"#6497B1",A400:"#6497B1"}),green:Object(p.a)(Object(p.a)({},W.a),{},{500:"#09804C",A400:"#B9EACD"}),purple:Object(p.a)(Object(p.a)({},z.a),{},{500:"#6200EE",A400:"#9795F9"}),orange:G.a,red:K.a},V={palette:{primary:Q.blue,secondary:Q.blue}},X=Object(J.a)(V);function Y(e){var t=e.children;return Object(A.jsx)(q.a,{theme:X,children:t})}function Z(){return Object(A.jsx)(b.a,{className:"app-bar-title",component:"h1",variant:"h5",children:"Travel Buddy"})}n(87);var $=n(14),ee=n(203),te=n(205),ne=n(204),ae=n.p+"static/media/home1.34865c11.png",re=n.p+"static/media/home2.a9687aa8.png",ce=n.p+"static/media/buy.39333dd7.png",se={paperContainer:{maxHeight:200,overflow:"auto",backgroundImage:"url(".concat("https://elements-twenty20-photos-0.imgix.net/production/uploads/items/6f3c7ee4-19e6-4f87-a08e-2eb20bf9f38e/source?auto=compress%2Cformat&fit=max&mark=https%3A%2F%2Felements-assets.envato.com%2Fstatic%2Fwatermark2.png&markalign=center%2Cmiddle&markalpha=18&w=1000&s=11a4c4e5d119030d235580895a2b517c",")")}};function ie(e){return Object(A.jsx)(ne.a,{sx:{display:"flex",flexWrap:"wrap","& > :not(style)":{m:1,width:158,height:145}},children:Object(A.jsxs)(te.a,{elevation:3,children:[Object(A.jsx)("img",{alt:"",src:e.iconPic,width:"150"}),e.iconLabel]})})}var oe=function(e){var t,n=e.name,a=e.summary,r=e.images,c=e.link,s=e.host,i=e.reviews;return Object(A.jsx)("div",{style:{padding:"5px 30px 40px 5px"},align:"center",children:Object(A.jsx)(te.a,{elevation:3,children:Object(A.jsxs)(ee.a,{container:!0,spacing:1,children:[Object(A.jsxs)(ee.a,{item:!0,xs:12,children:[Object(A.jsx)("h1",{children:n}),Object(A.jsx)("p",{children:a})]}),Object(A.jsx)(ee.a,{item:!0,xs:9,children:Object(A.jsx)("img",{alt:"Oops! No preview",src:r})}),Object(A.jsxs)(ee.a,{item:!0,xs:3,children:[Object(A.jsx)(ne.a,{children:Object(A.jsx)(ie,{iconPic:ce,iconLabel:"Price"})}),Object(A.jsx)(ne.a,{children:Object(A.jsx)(ie,{iconPic:ae,iconLabel:"Facilities"})}),Object(A.jsx)(ne.a,{children:Object(A.jsx)(ie,{iconPic:re,iconLabel:"Find"})})]}),Object(A.jsxs)(ee.a,{item:!0,xs:12,children:[Object(A.jsx)("h2",{children:"Host:"}),Object(A.jsx)(O.a,{style:{padding:"10px 50px 10px 50px"},children:Object(A.jsxs)(te.a,(t={style:se.paperColor,variant:"outlined"},Object($.a)(t,"style",{padding:"10px 50px 10px 50px"}),Object($.a)(t,"children",[Object(A.jsx)("img",{alt:"\ud83d\udc64",src:s.host_thumbnail_url,style:{borderRadius:"50%"}}),Object(A.jsx)("br",{}),Object(A.jsx)("b",{children:s.host_name}),Object(A.jsx)("br",{}),Object(A.jsxs)("b",{children:["\ud83d\udccd ",s.host_location]}),Object(A.jsx)("br",{}),s.host_about]),t))}),Object(A.jsx)("h2",{children:"Reviews:"}),Object(A.jsx)(O.a,{style:{padding:"10px 50px 10px 50px"},children:Object(A.jsx)(te.a,{variant:"outlined",style:se.paperContainer,align:"left",children:i.splice(0,10).map((function(e){return Object(A.jsxs)(ee.a,{container:!0,spacing:2,children:[Object(A.jsx)(ee.a,{item:!0,xs:6,md:1,align:"center",children:Object(A.jsxs)("div",{children:[Object(A.jsx)("img",{alt:"",src:"https://www.freeiconspng.com/thumbs/profile-icon-png/account-profile-user-icon--icon-search-engine-10.png",width:"30",height:"30"}),Object(A.jsx)("br",{}),e.reviewer_name]})}),Object(A.jsx)(ee.a,{item:!0,xs:6,md:11,children:Object(A.jsx)("div",{children:e.comments})}),Object(A.jsx)(ee.a,{item:!0,xs:12,children:Object(A.jsx)("hr",{})})]},e._id)}))})}),Object(A.jsx)(te.a,{variant:"outlined",children:c})]})]})})})};function le(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("My Props: ",t.item),e.next=3,fetch("https://winterhack-searchapp.herokuapp.com/search",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:t.item,position:{lng:-74.006,lat:40.7128}})});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,console.log(a),500===a.statusCode?c([]):c(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e)}),[e.item]),Object(A.jsxs)("div",{children:[Object(A.jsxs)("h1",{children:["Searching for ... ",e.item]}),r.map((function(e,t){return Object(A.jsx)(oe,{name:e.name,summary:e.summary,images:e.images.picture_url,link:e.listing_url,host:e.host,reviews:e.reviews},t)}))]})}function ue(){var e=Object(a.useState)("a"),t=Object(h.a)(e,2),n=t[0],r=t[1];return Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"App-header",children:[Object(A.jsx)("p",{children:"Search for hotels:"}),Object(A.jsx)("input",{type:"text",value:n,placeholder:"Enter preference",onChange:function(e){r(e.target.value)}})]}),Object(A.jsx)("div",{style:{padding:"25px 30px 75px 100px"},children:Object(A.jsx)(le,{item:n})})]})}function je(){return Object(A.jsx)(Y,{children:Object(A.jsx)(I,{appId:S.a,children:Object(A.jsx)(de,{})})})}function de(){var e=F(),t=e.currentUser,n=e.logOut;return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)(u.a,{position:"sticky",children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(Z,{}),t?Object(A.jsx)(d.a,{variant:"contained",color:"secondary",onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),children:Object(A.jsx)(b.a,{variant:"button",children:"Log Out"})}):null]})}),t?Object(A.jsx)(ue,{}):Object(A.jsx)(M,{})]})}var be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(je,{})}),document.getElementById("root")),be()},63:function(e){e.exports=JSON.parse('{"a":"winterhack-vqtdn","b":"https://realm.mongodb.com"}')},87:function(e,t,n){}},[[139,1,2]]]);
//# sourceMappingURL=main.5a933a9e.chunk.js.map